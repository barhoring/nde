<!doctype html>
<head>
<meta charset="utf-8"/>
<title>Nde</title>
<link rel="icon" href="favicon.ico"/>
<!-- Font-Awesome the lazy way -->
<link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.css" />
</head>
<body>
<!-- Loading Bar -->
<div id="app"></div>
<style>.pace{pointer-events:none;user-select:none;}.pace-inactive{display:none;}.pace .pace-progress{background:#29d;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px;}</style>
<script>
paceOptions = {
  elements: {
    selectors: [
      '#app article'
    ]
  }
}
</script>
<script src="https://cdn.rawgit.com/HubSpot/pace/v1.0.0/pace.min.js"></script>
<!-- End Loading Bar -->

<script src="https://unpkg.com/getlibs@0.1.1/dist/min.js"></script>
<script>
System.config({
  meta: {
    '*.json': {
      loader: 'json'
    }
  },
});
System.import('./package.json')
.then(({dependencies}) => {
  const map = {};
  const meta = {};
  // For each dependency listed in package.json, force getlibs
  // to use Unpkg (the js loader) use the exact version of each dependency.
  for ([package, version] of Object.entries(dependencies)) {
    meta[package] = { loader: 'js' }
    map[package] = `https://unpkg.com/${package}@${version}`
  }

  System.config({
    meta: {
      ...meta,
      '*.json': {
        loader: 'json'
      },
      '*.jsx': {
        loader: 'js'
      }
    },
    map: {
      ...map,
      '@hot': '@empty',
      'buffer': './builtins/buffer.js',
      'react-octicons-modular': './packages/react-octicons-modular/index.js',
      // 'isomorphic-git': 'https://unpkg.com/isomorphic-git@0.5.1/dist/bundle.umd.min.js',
      // 'react': 'https://unpkg.com/react@16.0.0-beta.5/umd/react.development.js',
      // 'react-dom': 'https://unpkg.com/react-dom@16.0.0-beta.5/umd/react-dom.development.js',
      'preact-compat': 'https://unpkg.com/preact-compat@3.17.0/dist/preact-compat.js',
      // 'react-dom': 'https://unpkg.com/preact-compat@3.17.0/dist/preact-compat.js',
      'react': 'https://unpkg.com/preact-compat@3.17.0/dist/preact-compat.js',
      'react-dom': 'https://unpkg.com/preact-compat@3.17.0/dist/preact-compat.js',
      'react-dnd': 'https://unpkg.com/react-dnd@2.5.4/dist/ReactDnD.min.js',
      'react-dnd-html5-backend': 'https://unpkg.com/react-dnd-html5-backend@2.5.4/dist/ReactDnDHTML5Backend.min.js',
      'react-sortable-hoc': 'https://unpkg.com/react-sortable-hoc@0.6.8/dist/umd/react-sortable-hoc.js',
      'typescript-array-utils': 'https://unpkg.com/typescript-array-utils@0.1.3/dist/index.js',
      'react-monaco-editor': 'https://unpkg.com/react-monaco-editor@0.12.0/lib/index.js',
      'react-contextmenu': 'https://unpkg.com/react-contextmenu@2.9.2/dist/react-contextmenu.js',
      'redux': 'https://unpkg.com/redux@4.0.0/dist/redux.min.js',
      'react-redux': 'https://unpkg.com/react-redux@5.0.7/dist/react-redux.min.js',
      'cuid': 'https://unpkg.com/cuid@2.0.1/dist/cuid.min.js',
      'workerpool': 'https://unpkg.com/workerpool@2.3.0/dist/workerpool.min.js',
    },
    paths: {
      'fs': './builtins/fs.js',
      'isomorphic-git-worker': './packages/isomorphic-git-worker/index.js',
      'omnipath': 'https://unpkg.com/omnipath/dist/omnipath.min.js',
      'path': 'https://unpkg.com/path-browserify',
      'url': 'https://unpkg.com/omnipath/dist/omnipath.min.js',
      'react-file-browser': './packages/react-file-browser/index.js',
      'react-file-icons': './packages/react-file-icons/index.js',
      'react-pretty-error-boundary': './packages/react-pretty-error-boundary/index.js',
      'simple-rimraf': './packages/simple-rimraf/index.js',
      'cuid': 'https://unpkg.com/cuid@2.0.1/dist/cuid.min.js',
      'workerpool': 'https://unpkg.com/workerpool@2.3.0/dist/workerpool.min.js',
    }
  })
  System.import('systemjs-hmr').then(() => {
    System.import('./index.js')
  })
})
</script>
</body>
</html>
